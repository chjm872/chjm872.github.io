<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
  <meta name="theme-color" content="#222">
  <meta name="generator" content="Alan Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.alan87.top","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#FFF0F5","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":true,"nav":{"valine":{"text":"Load valine","order":1}},"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":true},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"expandIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>
  <meta name="keywords" content="IT,云原生,大数据,flink,k8s,kubernetes,docker,hadoop,clickhouse,Alan,千寻,科技领域知识,5G,人工智能,云计算,物联网,工业互联网,IT,云原生,大数据,flink,k8s,kubernetes,docker,hadoop,clickhouse">

  <meta name="description" content="道路很长, 开始了就别停下!">
<meta property="og:type" content="website">
<meta property="og:title" content="千寻">
<meta property="og:url" content="https://www.alan87.top/page/6/index.html">
<meta property="og:site_name" content="千寻">
<meta property="og:description" content="道路很长, 开始了就别停下!">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="千寻">
<meta property="article:tag" content="Alan">
<meta property="article:tag" content="千寻">
<meta property="article:tag" content="科技领域知识">
<meta property="article:tag" content="5G">
<meta property="article:tag" content="人工智能">
<meta property="article:tag" content="云计算">
<meta property="article:tag" content="物联网">
<meta property="article:tag" content="工业互联网">
<meta property="article:tag" content="IT">
<meta property="article:tag" content="云原生">
<meta property="article:tag" content="大数据">
<meta property="article:tag" content="flink">
<meta property="article:tag" content="k8s">
<meta property="article:tag" content="kubernetes">
<meta property="article:tag" content="docker">
<meta property="article:tag" content="hadoop">
<meta property="article:tag" content="clickhouse">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.alan87.top/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>千寻</title>
  


  <script data-pjax>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?41849fc7b5615b6013c3d54767fc7212";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="千寻" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <h1 class="site-title">千寻</h1>
    </a>
      <p class="site-subtitle" itemprop="description">道路很长, 开始了就别停下!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">17</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">18</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">276</span></a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/readme" rel="section"><i class="fa fa-fw fa-sitemap"></i>地图</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/spring/Spring%E6%B3%A8%E8%A7%A3%E5%8E%9F%E7%90%86%E7%9A%84%E8%AF%A6%E7%BB%86%E5%89%96%E6%9E%90%E4%B8%8E%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/spring/Spring%E6%B3%A8%E8%A7%A3%E5%8E%9F%E7%90%86%E7%9A%84%E8%AF%A6%E7%BB%86%E5%89%96%E6%9E%90%E4%B8%8E%E5%AE%9E%E7%8E%B0/" class="post-title-link" itemprop="url">Spring注解原理的详细剖析与实现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-03-15 11:17:42" itemprop="dateCreated datePublished" datetime="2018-03-15T11:17:42+08:00">2018-03-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/spring/" itemprop="url" rel="index"><span itemprop="name">Spring</span></a>
                </span>
            </span>

          
            <span id="/spring/Spring%E6%B3%A8%E8%A7%A3%E5%8E%9F%E7%90%86%E7%9A%84%E8%AF%A6%E7%BB%86%E5%89%96%E6%9E%90%E4%B8%8E%E5%AE%9E%E7%8E%B0/" class="post-meta-item leancloud_visitors" data-flag-title="Spring注解原理的详细剖析与实现" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/spring/Spring%E6%B3%A8%E8%A7%A3%E5%8E%9F%E7%90%86%E7%9A%84%E8%AF%A6%E7%BB%86%E5%89%96%E6%9E%90%E4%B8%8E%E5%AE%9E%E7%8E%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/spring/Spring%E6%B3%A8%E8%A7%A3%E5%8E%9F%E7%90%86%E7%9A%84%E8%AF%A6%E7%BB%86%E5%89%96%E6%9E%90%E4%B8%8E%E5%AE%9E%E7%8E%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一、注解的基本概念和原理及其简单实用"><a href="#一、注解的基本概念和原理及其简单实用" class="headerlink" title="一、注解的基本概念和原理及其简单实用"></a>一、<strong>注解的基本概念和原理及其简单实用</strong></h1><p>注解（Annotation）提供了一种安全的类似注释的机制，为我们在代码中添加信息提供了一种形式化得方法，使我们可以在稍后某个时刻方便的使用这些数据（通过解析注解来使用这些数据），用来将任何的信息或者元数据与程序元素（类、方法、成员变量等）进行关联。其实就是更加直观更加明了的说明，这些说明信息与程序业务逻辑没有关系，并且是供指定的工具或框架使用的。Annotation像一种修饰符一样，应用于包、类型、构造方法、方法、成员变量、参数及本地变量的申明语句中。</p>
<p>Annotation其实是一种接口。通过[Java]的反射机制相关的API来访问Annotation信息。相关类（框架或工具中的类）根据这些信息来决定如何使用该程序元素或改变它们的行为。Java语言解释器在工作时会忽略这些Annotation，因此在JVM中这些Annotation是“不起作用”的，只能通过配套的工具才能对这些Annotation类型的信息进行访问和处理。</p>
<p>Annotation和interface的异同：</p>
<ul>
<li><p>1、 annotition的类型使用关键字@interface而不是interface。它继承了java.lang.annotition.Annotition接口，并非申明了一个interface。</p>
</li>
<li><p>2、 Annotation类型、方法定义是独特的、受限制的。Annotation类型的方法必须申明为无参数、无异常抛出的。这些方法定义了Annotation的成员：方法名称为了成员名，而方法返回值称为了成员的类型。而方法返回值必须为primitive类型、Class类型、枚举类型、Annotation类型或者由前面类型之一作为元素的一位数组。方法的后面可以使用default和一个默认数值来申明成员的默认值，null不能作为成员的默认值，这与我们在非Annotation类型中定义方法有很大不同。Annotation类型和他的方法不能使用Annotation类型的参数，成员不能是generic。只有返回值类型是Class的方法可以在Annotation类型中使用generic，因为此方法能够用类转换将各种类型转换为Class。</p>
</li>
<li><p>3、 Annotation类型又与接口有着近似之处。它们可以定义常量、静态成员类型（比如枚举类型定义）。Annotation类型也可以如接口一般被实现或者继承。</p>
</li>
</ul>
<p><strong>元注解@Target,@Retention,@Documented,@Inherited</strong> </p>
<ul>
<li><p>@Target 表示该注解用于什么地方，可能的 ElemenetType 参数包括： </p>
</li>
<li><p>ElemenetType.CONSTRUCTOR 构造器声明 </p>
</li>
<li><p>ElemenetType.FIELD 域声明（包括 enum 实例） </p>
</li>
<li><p>ElemenetType.LOCAL_VARIABLE 局部变量声明 </p>
</li>
<li><p>ElemenetType.METHOD 方法声明 </p>
</li>
<li><p>ElemenetType.PACKAGE 包声明 </p>
</li>
<li><p>ElemenetType.PARAMETER 参数声明 </p>
</li>
<li><p>ElemenetType.TYPE 类，接口（包括注解类型）或enum声明 </p>
</li>
<li><p>@Retention 表示在什么级别保存该注解信息。可选的 RetentionPolicy 参数包括： </p>
</li>
<li><p>RetentionPolicy.SOURCE 注解将被编译器丢弃 </p>
</li>
<li><p>RetentionPolicy.CLASS 注解在class文件中可用，但会被VM丢弃 </p>
</li>
<li><p>RetentionPolicy.RUNTIME VM将在运行期也保留注释，因此可以通过反射机制读取注解的信息。 </p>
</li>
<li><p>@Documented 将此注解包含在 javadoc 中 </p>
</li>
<li><p>@Inherited 允许子类继承父类中的注解</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.METHOD) </span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME) </span><br><span class="line"><span class="meta">@Documented</span> </span><br><span class="line"><span class="meta">@Inherited</span></span><br></pre></td></tr></table></figure>

<h2 id="二、下面的示例来简单的讲述-spring-注解原理："><a href="#二、下面的示例来简单的讲述-spring-注解原理：" class="headerlink" title="二、下面的示例来简单的讲述[spring]注解原理："></a>二、下面的示例来简单的讲述[spring]注解原理：</h2><p>本例实现了在set方法上和在字段属性上注解的处理解析。</p>
<h3 id="1、定义注解"><a href="#1、定义注解" class="headerlink" title="1、定义注解"></a>1、定义注解</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yt.annotation;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;  </span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;  </span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;  </span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:定义注解 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: ZxfResource </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Project</span>: spring-aop </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: zxf </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2011-6-7 </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="comment">// 在运行时执行  </span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)  </span><br><span class="line"><span class="comment">// 注解适用地方(字段和方法)  </span></span><br><span class="line"><span class="meta">@Target</span>(&#123; ElementType.FIELD, ElementType.METHOD &#125;)  </span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ZxfResource &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">//注解的name属性  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、带有注解的服务类"><a href="#2、带有注解的服务类" class="headerlink" title="2、带有注解的服务类"></a>2、带有注解的服务类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yt.annotation;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 带有注解的服务 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: UserDaoImpl </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Project</span>: spring-aop </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: zxf </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2011-6-7 </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> </span>&#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> UserDaoImpl userDao;  </span><br><span class="line">    <span class="keyword">public</span> User1DaoImpl user1Dao;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 字段上的注解,可以配置name属性  </span></span><br><span class="line">    <span class="meta">@ZxfResource</span>  </span><br><span class="line">    <span class="keyword">public</span> User2DaoImpl user2Dao;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// set方法上的注解，带有name属性  </span></span><br><span class="line">    <span class="meta">@ZxfResource</span>(name = <span class="string">"userDao"</span>)  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDaoImpl userDao)</span> </span>&#123;  </span><br><span class="line">        <span class="keyword">this</span>.userDao = userDao;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// set方法上的注解，没有配置name属性  </span></span><br><span class="line">    <span class="meta">@ZxfResource</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser1Dao</span><span class="params">(User1DaoImpl user1Dao)</span> </span>&#123;  </span><br><span class="line">        <span class="keyword">this</span>.user1Dao = user1Dao;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        userDao.show();  </span><br><span class="line">        user1Dao.show1();  </span><br><span class="line">        user2Dao.show2();  </span><br><span class="line">        System.out.println(<span class="string">"这里是Service方法........"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3、要注入的DAO"><a href="#3、要注入的DAO" class="headerlink" title="3、要注入的DAO"></a>3、要注入的DAO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yt.annotation;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 要注入的DAo类 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: UserDaoImpl </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Project</span>: spring-aop </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: zxf </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2011-6-7 </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> </span>&#123;  </span><br><span class="line">      </span><br><span class="line">    String name ;  </span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"这里是dao方法........"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">"userDao"</span> <span class="attr">class</span>=<span class="string">"com.yt.annotation.UserDaoImpl"</span> /&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">"user1Dao"</span> <span class="attr">class</span>=<span class="string">"com.yt.annotation.User1DaoImpl"</span> /&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">"user2Dao"</span> <span class="attr">class</span>=<span class="string">"com.yt.annotation.User2DaoImpl"</span> /&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">"userService"</span> <span class="attr">class</span> = <span class="string">"com.yt.annotation.UserServiceImpl"</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4、注解处理器"><a href="#4、注解处理器" class="headerlink" title="4、注解处理器"></a>4、注解处理器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yt.annotation;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> java.beans.Introspector;  </span><br><span class="line"><span class="keyword">import</span> java.beans.PropertyDescriptor;  </span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;  </span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;  </span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;  </span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;  </span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;  </span><br><span class="line"><span class="keyword">import</span> java.util.List;  </span><br><span class="line"><span class="keyword">import</span> java.util.Map;  </span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;  </span><br><span class="line"><span class="keyword">import</span> org.dom4j.Document;  </span><br><span class="line"><span class="keyword">import</span> org.dom4j.DocumentException;  </span><br><span class="line"><span class="keyword">import</span> org.dom4j.Element;  </span><br><span class="line"><span class="keyword">import</span> org.dom4j.io.SAXReader;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: spring中的注解原理 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: ClassPathXMLApplicationContext </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Project</span>: spring-aop </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: zxf </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2011-6-3 </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassPathXMLApplicationContext</span> </span>&#123;  </span><br><span class="line">  </span><br><span class="line">    Logger log = Logger.getLogger(ClassPathXMLApplicationContext<span class="class">.<span class="keyword">class</span>)</span>;  </span><br><span class="line">  </span><br><span class="line">    List&lt;BeanDefine&gt; beanList = <span class="keyword">new</span> ArrayList&lt;BeanDefine&gt;();  </span><br><span class="line">    Map&lt;String, Object&gt; sigletions = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();  </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassPathXMLApplicationContext</span><span class="params">(String fileName)</span> </span>&#123;  </span><br><span class="line">        <span class="comment">//读取配置文件中管理的bean  </span></span><br><span class="line">        <span class="keyword">this</span>.readXML(fileName);  </span><br><span class="line">        <span class="comment">//实例化bean  </span></span><br><span class="line">        <span class="keyword">this</span>.instancesBean();  </span><br><span class="line">        <span class="comment">//注解处理器  </span></span><br><span class="line">        <span class="keyword">this</span>.annotationInject();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 读取Bean配置文件 </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">readXML</span><span class="params">(String fileName)</span> </span>&#123;  </span><br><span class="line">        Document document = <span class="keyword">null</span>;  </span><br><span class="line">        SAXReader saxReader = <span class="keyword">new</span> SAXReader();  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            ClassLoader classLoader =   </span><br><span class="line">                Thread.currentThread().getContextClassLoader();  </span><br><span class="line">            document = saxReader.read(classLoader.getResourceAsStream(fileName));  </span><br><span class="line">            Element beans = document.getRootElement();  </span><br><span class="line">            <span class="keyword">for</span> (Iterator&lt;Element&gt; beansList = beans.elementIterator();   </span><br><span class="line">                beansList.hasNext();) &#123;  </span><br><span class="line">                Element element = beansList.next();  </span><br><span class="line">                BeanDefine bean = <span class="keyword">new</span> BeanDefine(  </span><br><span class="line">                        element.attributeValue(<span class="string">"id"</span>),  </span><br><span class="line">                        element.attributeValue(<span class="string">"class"</span>));  </span><br><span class="line">                beanList.add(bean);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (DocumentException e) &#123;  </span><br><span class="line">            log.info(<span class="string">"读取配置文件出错...."</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 实例化Bean </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">instancesBean</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        <span class="keyword">for</span> (BeanDefine bean : beanList) &#123;  </span><br><span class="line">            <span class="keyword">try</span> &#123;  </span><br><span class="line">                sigletions.put(bean.getId(),   </span><br><span class="line">                        Class.forName(bean.getClassName()).newInstance());  </span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">                log.info(<span class="string">"实例化Bean出错..."</span>);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 注解处理器 </span></span><br><span class="line"><span class="comment">     * 如果注解ZxfResource配置了name属性，则根据name所指定的名称获取要注入的实例引用， </span></span><br><span class="line"><span class="comment">     * 如果注解ZxfResource;没有配置name属性，则根据属性所属类型来扫描配置文件获取要 </span></span><br><span class="line"><span class="comment">     * 注入的实例引用 </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">annotationInject</span><span class="params">()</span></span>&#123;  </span><br><span class="line">        <span class="keyword">for</span>(String beanName:sigletions.keySet())&#123;  </span><br><span class="line">            Object bean = sigletions.get(beanName);  </span><br><span class="line">            <span class="keyword">if</span>(bean!=<span class="keyword">null</span>)&#123;  </span><br><span class="line">                <span class="keyword">this</span>.propertyAnnotation(bean);  </span><br><span class="line">                <span class="keyword">this</span>.fieldAnnotation(bean);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 处理在set方法加入的注解 </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bean 处理的bean </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">propertyAnnotation</span><span class="params">(Object bean)</span></span>&#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="comment">//获取其属性的描述  </span></span><br><span class="line">            PropertyDescriptor[] ps =   </span><br><span class="line">                Introspector.getBeanInfo(bean.getClass()).getPropertyDescriptors();  </span><br><span class="line">            <span class="keyword">for</span>(PropertyDescriptor proderdesc : ps)&#123;  </span><br><span class="line">                <span class="comment">//获取所有set方法  </span></span><br><span class="line">                Method setter = proderdesc.getWriteMethod();  </span><br><span class="line">                <span class="comment">//判断set方法是否定义了注解  </span></span><br><span class="line">                <span class="keyword">if</span>(setter!=<span class="keyword">null</span> &amp;&amp; setter.isAnnotationPresent(ZxfResource<span class="class">.<span class="keyword">class</span>))</span>&#123;  </span><br><span class="line">                    <span class="comment">//获取当前注解，并判断name属性是否为空  </span></span><br><span class="line">                    ZxfResource resource = setter.getAnnotation(ZxfResource<span class="class">.<span class="keyword">class</span>)</span>;  </span><br><span class="line">                    String name =<span class="string">""</span>;  </span><br><span class="line">                    Object value = <span class="keyword">null</span>;  </span><br><span class="line">                    <span class="keyword">if</span>(resource.name()!=<span class="keyword">null</span>&amp;&amp;!<span class="string">""</span>.equals(resource.name()))&#123;  </span><br><span class="line">                        <span class="comment">//获取注解的name属性的内容  </span></span><br><span class="line">                        name = resource.name();  </span><br><span class="line">                        value = sigletions.get(name);  </span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123; <span class="comment">//如果当前注解没有指定name属性,则根据类型进行匹配  </span></span><br><span class="line">                        <span class="keyword">for</span>(String key : sigletions.keySet())&#123;  </span><br><span class="line">                            <span class="comment">//判断当前属性所属的类型是否在配置文件中存在  </span></span><br><span class="line">                            <span class="keyword">if</span>(proderdesc.getPropertyType().isAssignableFrom(sigletions.get(key).getClass()))&#123;  </span><br><span class="line">                                <span class="comment">//获取类型匹配的实例对象  </span></span><br><span class="line">                                value = sigletions.get(key);  </span><br><span class="line">                                <span class="keyword">break</span>;  </span><br><span class="line">                            &#125;  </span><br><span class="line">                        &#125;  </span><br><span class="line">                    &#125;  </span><br><span class="line">                    <span class="comment">//允许访问private方法  </span></span><br><span class="line">                    setter.setAccessible(<span class="keyword">true</span>);  </span><br><span class="line">                    <span class="comment">//把引用对象注入属性  </span></span><br><span class="line">                    setter.invoke(bean, value);   </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            log.info(<span class="string">"set方法注解解析异常.........."</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 处理在字段上的注解 </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bean 处理的bean </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fieldAnnotation</span><span class="params">(Object bean)</span></span>&#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="comment">//获取其全部的字段描述  </span></span><br><span class="line">            Field[] fields = bean.getClass().getFields();  </span><br><span class="line">            <span class="keyword">for</span>(Field f : fields)&#123;  </span><br><span class="line">                <span class="keyword">if</span>(f!=<span class="keyword">null</span> &amp;&amp; f.isAnnotationPresent(ZxfResource<span class="class">.<span class="keyword">class</span>))</span>&#123;  </span><br><span class="line">                    ZxfResource resource = f.getAnnotation(ZxfResource<span class="class">.<span class="keyword">class</span>)</span>;  </span><br><span class="line">                    String name =<span class="string">""</span>;  </span><br><span class="line">                    Object value = <span class="keyword">null</span>;  </span><br><span class="line">                    <span class="keyword">if</span>(resource.name()!=<span class="keyword">null</span>&amp;&amp;!<span class="string">""</span>.equals(resource.name()))&#123;  </span><br><span class="line">                        name = resource.name();  </span><br><span class="line">                        value = sigletions.get(name);  </span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;  </span><br><span class="line">                        <span class="keyword">for</span>(String key : sigletions.keySet())&#123;  </span><br><span class="line">                            <span class="comment">//判断当前属性所属的类型是否在配置文件中存在  </span></span><br><span class="line">                            <span class="keyword">if</span>(f.getType().isAssignableFrom(sigletions.get(key).getClass()))&#123;  </span><br><span class="line">                                <span class="comment">//获取类型匹配的实例对象  </span></span><br><span class="line">                                value = sigletions.get(key);  </span><br><span class="line">                                <span class="keyword">break</span>;  </span><br><span class="line">                            &#125;  </span><br><span class="line">                        &#125;  </span><br><span class="line">                    &#125;  </span><br><span class="line">                    <span class="comment">//允许访问private字段  </span></span><br><span class="line">                    f.setAccessible(<span class="keyword">true</span>);  </span><br><span class="line">                    <span class="comment">//把引用对象注入属性  </span></span><br><span class="line">                    f.set(bean, value);  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            log.info(<span class="string">"字段注解解析异常.........."</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 获取Map中的对应的bean实例 </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> beanId </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getBean</span><span class="params">(String beanId)</span> </span>&#123;  </span><br><span class="line">        <span class="keyword">return</span> sigletions.get(beanId);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">        ClassPathXMLApplicationContext path = <span class="keyword">new</span> ClassPathXMLApplicationContext(  </span><br><span class="line">                <span class="string">"configAnnotation.xml"</span>);  </span><br><span class="line">        UserServiceImpl userService =(UserServiceImpl)path.getBean(<span class="string">"userService"</span>);  </span><br><span class="line">        userService.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/java/java%E4%BD%8D%E8%BF%90%E7%AE%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/java/java%E4%BD%8D%E8%BF%90%E7%AE%97/" class="post-title-link" itemprop="url">Java位运算符 &、|、^、~、<<、>>、>>></a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-03-03 20:30:49" itemprop="dateCreated datePublished" datetime="2018-03-03T20:30:49+08:00">2018-03-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          
            <span id="/java/java%E4%BD%8D%E8%BF%90%E7%AE%97/" class="post-meta-item leancloud_visitors" data-flag-title="Java位运算符 &、|、^、~、<<、>>、>>>" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/java/java%E4%BD%8D%E8%BF%90%E7%AE%97/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/java/java%E4%BD%8D%E8%BF%90%E7%AE%97/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1)前言"></a>1)前言</h2><p>关于位运算符 与(&amp;)、或(|)、异或(^)、取反(~)、左移(&lt;&lt;)、右移(&gt;&gt;)、无符号右移(&gt;&gt;&gt;)</p>
<p>位运算其实就是二进制的运算，加减乘除适用于十进制，而位运算就是二进制的运算,但是由于我们的运算都是基于十进制来说的，所以会有点绕，略微有点难懂</p>
<h2 id="2-关于二进制"><a href="#2-关于二进制" class="headerlink" title="2)关于二进制"></a>2)关于二进制</h2><p>我们在编码过程中应该会了解很多不同的进制，除去常用的十进制，还有二进制、八进制、十六进制，因为我们的位运算符主要用到二进制，就只讲讲二进制</p>
<p>几进制就是一个位上最多能表示几个数，如十进制的个位有0~9十个数字，八进制有0~7八个数字，二进制我们自然想到就是0~1两个数字</p>
<p>我们编码中最小的单位应该是字节，而一个字节有8位，每一位就是一个0或1，所以一个字节用二进制表示就是</p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023161659387-1137743233.png" alt=""></p>
<p>这样的</p>
<h2 id="3-与运算符-amp"><a href="#3-与运算符-amp" class="headerlink" title="3) 与运算符(&amp;)"></a>3) 与运算符(&amp;)</h2><p>  如果 4&amp;7  那么这个应该怎么运算呢？</p>
<p>  首先我们需要把两个十进制的数转换成二进制 </p>
<p>   4 ： 0000 0100</p>
<p>   7 ： 0000 0111</p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023204022745-1107563193.png" alt=""></p>
<p>在这里要提到一点，1表示true，0表示false</p>
<p>而与运算的时候相同位之间其实就是两个Boolean的运算 </p>
<ul>
<li><p>全true(1),即为true(1)</p>
</li>
<li><p>全false(0),即为false(0)</p>
</li>
<li><p>一false(0)一true(1),还是false(0) </p>
</li>
</ul>
<h2 id="4-或运算符"><a href="#4-或运算符" class="headerlink" title="4)或运算符(|)"></a>4)或运算符(|)</h2><p>  以  5|9  为例</p>
<p>  5 ： 0000 0101 </p>
<p>  9 ： 0000 1001</p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023204023575-1172288145.png" alt=""></p>
<p>在做与运算的时候</p>
<p><strong>遇true(1)就是true(1),</strong></p>
<p><strong>无true(1)就是false(0)</strong></p>
<h2 id="5-异或运算符"><a href="#5-异或运算符" class="headerlink" title="5) 异或运算符(^)"></a>5) 异或运算符(^)</h2><p><strong>以 7^15 为例</strong></p>
<p><strong>7：  0000 0111</strong></p>
<p><strong>15： 0000 1111</strong></p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023204024149-967390106.png" alt=""></p>
<p> 在异或的时候</p>
<ul>
<li><p>只要相同都是false(0)</p>
</li>
<li><p>只有不同才是true(1)</p>
</li>
</ul>
<h2 id="6-取反运算符"><a href="#6-取反运算符" class="headerlink" title="6) 取反运算符(~)"></a>6) 取反运算符(~)</h2><p>例：  ~15</p>
<p>同样的先变成二进制：15：0000 1111</p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023204024870-227422826.png" alt=""></p>
<p>这个其实挺简单的，就是把1变0，0变1</p>
<p>注意：二进制中，最高位是符号位  1表示负数，0表示正数</p>
<h2 id="7-左移运算-lt-lt"><a href="#7-左移运算-lt-lt" class="headerlink" title="7) 左移运算(&lt;&lt;)"></a>7) 左移运算(&lt;&lt;)</h2><p>左移就是把所有位向左移动几位</p>
<p>如：  12 &lt;&lt; 2  意思就是12向左移动两位</p>
<p>12的二进制是： 0000 1100</p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023204025326-1518482974.png" alt=""></p>
<p>通过这个图我们可以看出来，所有的位全都向左移动两位，然后把右边空的两个位用0补上，最左边多出的两个位去掉，最后得到的结果就是00110000 结果就是48</p>
<p>我们用同样的办法算 <strong>12&lt;&lt;3 结果是 96</strong> , <strong>8&lt;&lt;4 结果是 128</strong></p>
<p><strong>由此我们得出一个快速的算法  M &lt;&lt; n  其实可以这么算  M &lt;&lt; n = M * 2<sup>n </sup></strong></p>
<h2 id="8-右移运算符-gt-gt"><a href="#8-右移运算符-gt-gt" class="headerlink" title="8) 右移运算符(&gt;&gt;)"></a><strong>8) 右移运算符(&gt;&gt;)</strong></h2><p><strong>这个跟左移运算大体是一样的</strong></p>
<p><strong>例： 12 &gt;&gt; 2</strong></p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023204025862-1215072643.png" alt=""></p>
<p><strong>我们可以看出来右移和左移其实是一样的，但是还是有点不同的，不同点在于对于正数和负数补位的时候补的不一样，负数补1，正数补0</strong></p>
<p><strong>如我们再做一个 -8 的  -8&gt;&gt;2</strong></p>
<p><img data-src="https://img2018.cnblogs.com/blog/1470032/201810/1470032-20181023204026563-746326181.png" alt=""></p>
<p><strong>这里总结一下，关于负数或者正数来说，移位的时候是一样的，但是在补位的时候，如果最高位是0就补0，如果最高位是1就补1</strong></p>
<p>由此我们得出一个快速的算法  M &gt;&gt; n  其实可以这么算  M &gt;&gt; n = M / 2^n  </p>
<h2 id="9无符号右移-gt-gt-gt"><a href="#9无符号右移-gt-gt-gt" class="headerlink" title="9无符号右移(&gt;&gt;&gt;)"></a>9无符号右移(&gt;&gt;&gt;)</h2><p>无符号右移(&gt;&gt;&gt;)只对32位和64位有意义</p>
<p>在移动位的时候与右移运算符的移动方式一样的，区别只在于补位的时候不管是0还是1，都补0</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/db/MySQL%E5%90%84%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%E5%92%8C%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/db/MySQL%E5%90%84%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%E5%92%8C%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">MySQL时间线,MySQL各版本的主要特性和区别</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-02-24 10:01:08" itemprop="dateCreated datePublished" datetime="2018-02-24T10:01:08+08:00">2018-02-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          
            <span id="/db/MySQL%E5%90%84%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%E5%92%8C%E5%8C%BA%E5%88%AB/" class="post-meta-item leancloud_visitors" data-flag-title="MySQL时间线,MySQL各版本的主要特性和区别" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/db/MySQL%E5%90%84%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%E5%92%8C%E5%8C%BA%E5%88%AB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/db/MySQL%E5%90%84%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%E5%92%8C%E5%8C%BA%E5%88%AB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在选择 Mysql 版本的时候，了解一下版本的变迁历史是有帮助的。<br>| 版本 | 发行日期<br>| — | —<br>| 3.23 | 2001<br>| 4.0 | 2003<br>| 4.1 | 2005<br>| 5.0 | 2006<br>| 5.1 | 2008<br>| 5.5 | 2010<br>| 5.6 | 2012<br>| 5.7 | 2015</p>
<h2 id="版本3-23（2001）"><a href="#版本3-23（2001）" class="headerlink" title="版本3.23（2001）"></a>版本3.23（2001）</h2><p>一般认为这个版本的发布是Mysql真正“诞生”的时刻，其开始获得广泛使用。</p>
<ul>
<li>在这个版本，Mysql依然只是一个在平面文件（Flat File） 上实现了 SQL 查询的系统。</li>
<li>但一个重要的改进是引入 MyISAM 代替了老旧而且有诸多限制的 ISAM 引擎。</li>
<li>InnoDB 引擎也已经可以使用，但没有包含在默认的二进制发行版中，因为它太新了。所以如果要使用 InnoDB，必须手工编译。</li>
<li>版本 3.23 还引入了全文索引和复制。复制是 Mysql 成为互联网应用的数据库系统的关键特性。</li>
</ul>
<h2 id="版本4-0（2003）"><a href="#版本4-0（2003）" class="headerlink" title="版本4.0（2003）"></a>版本4.0（2003）</h2><ul>
<li>支持新的语法，比如 UNION 和多表 DELETE 语法。</li>
<li>重写了复制，在备库使用了两个现成来实现复制，避免了之前一个线程所有复制工作的模式下任务切换导致的问题。</li>
<li>InnoDB 成为标准配备，包括了全部的特性：行级锁、外键等。</li>
<li>引入了查询缓存（自那以后这部门改动不大），同时还支持通过 SSL 进行连接。</li>
</ul>
<h2 id="版本4-1（2005）"><a href="#版本4-1（2005）" class="headerlink" title="版本4.1（2005）"></a>版本4.1（2005）</h2><ul>
<li>引入了更多新的语法，比如子查询和 INSERT ON DUPLICATE KEY UPDATE。</li>
<li>开始支持 UTF-8 字符集。</li>
<li>支持新的二进制协议和 prepared 语句。</li>
</ul>
<h2 id="版本5-0（2006）"><a href="#版本5-0（2006）" class="headerlink" title="版本5.0（2006）"></a>版本5.0（2006）</h2><ul>
<li>这个版本出现了一些“企业级”特性：视图、触发器、存储过程和存储函数。</li>
<li>老的 ISAM 引擎的代码被彻底移除，同时引入了新的 Federated 等引擎。</li>
</ul>
<h2 id="版本5-1（2008）"><a href="#版本5-1（2008）" class="headerlink" title="版本5.1（2008）"></a>版本5.1（2008）</h2><ul>
<li>这是 Sun 收购 MySQL AB 以后发布的首个版本，研发时间长达五年。</li>
<li>引入了分区、基于行的复制，以及 plugin API（包括可插拔存储引擎的 API）。</li>
<li>移除了 BerkeyDB 引擎，这是 MySQL 最早的事务存储引擎。</li>
<li>其他如 Federated 引擎也被放弃。</li>
<li>同时 Oracle 收购的 InnoDB Oy发布了 InnoDB plugin。</li>
</ul>
<h2 id="版本5-5（2010）"><a href="#版本5-5（2010）" class="headerlink" title="版本5.5（2010）"></a>版本5.5（2010）</h2><h3 id="性能提升"><a href="#性能提升" class="headerlink" title="性能提升"></a><strong>性能提升</strong></h3><ul>
<li>默认InnoDB plugin引擎。具有提交、回滚和crash恢复功能、ACID兼容。</li>
<li>行级锁(一致性的非锁定读 MVCC)。- 表与索引存储在表空间、表大小无限制。</li>
<li>支持dynamic(primary key缓存内存 避免主键查询引起的IO )与compressed(支持数据及索引压缩)行格式。</li>
<li>InnoDB plugin文件格式Barracuda、支持表压缩、节约存储、提供内存命中率、truncate table速度更快。</li>
<li>原InnoDB只有一个UndoSegment，最多支持1023的并发；现在有128个Segments，支持128K个并发（同样，解决高并发带来的事务回滚）。</li>
<li>Innodb_thread_concurrency默认为0，线程并发数无限制，可根据具体应用设置最佳值。</li>
<li>Innodb_io_capacity可以动态调整刷新脏页的数量，改善大批量更新时刷新脏页跟不上导致的性能下降问题。Default：200，跟硬盘的IOPS有关。</li>
<li>充分利用CPU多核处理能力innodb_read_io_threads阈值：1-64innodb_write_io_threads 阈值：1-64根据数据库的读写比灵活设置，充分发挥多CPU、高性能存储设备的性能，不支持动态加载 。</li>
<li>自适应刷新脏页</li>
<li>热数据存活更久</li>
<li>buffer pool多实例 ：innodb_buffer_pool_instances 参数增加innodb_buffer_pool实例个数，大大降低buffer pool的mutex争抢过热情况。</li>
<li>Linux上实现异步IO</li>
<li>重新支持组提交</li>
</ul>
<h3 id="稳定性提升"><a href="#稳定性提升" class="headerlink" title="稳定性提升"></a><strong>稳定性提升</strong></h3><ul>
<li>支持半同步Replication。- 增加Relay Log 自我修复功能。</li>
<li>Crash recovery。</li>
<li>引入红-黑树做插入排序的中间数据结构，时间复杂度大大降低，减少恢复时间。</li>
<li>Thread Pool 分组排队 限流</li>
<li>增加Relay Log 自我修复功能。</li>
</ul>
<h2 id="版本5-6（2012）"><a href="#版本5-6（2012）" class="headerlink" title="版本5.6（2012）"></a>版本5.6（2012）</h2><ul>
<li>默认参数的改变</li>
<li>Back_log 排队队列</li>
<li>支持全文索引</li>
<li>支持online DDL create,alter,drop</li>
<li>可以在建表时指定表空间位置<br> create table external (x int unsigned not null primary key)data directory = ‘/volumes/external1/data’;</li>
<li>新增参数innodb_page_size可以设置page大小</li>
<li>整合了memcached API，可以使用API来直接访问innodb表，并非SQL（减少SQL解析、查询优化代价）</li>
<li>innodb只读事务，不需要设置TRX_ID字段，</li>
<li>减少内部数据结构开销，减少read view</li>
<li>仅仅非只读事务依然需要TRX_ID</li>
</ul>
<h3 id="innodb改进点"><a href="#innodb改进点" class="headerlink" title="innodb改进点"></a><strong>innodb改进点</strong></h3><ul>
<li>innodb表空间在线迁移(TransportableTablespaces)</li>
<li>undo log可独立出系统表空间</li>
<li>redo log最大可增长到512G</li>
<li>innodb后台线程独立出来</li>
</ul>
<h3 id="优化器改进"><a href="#优化器改进" class="headerlink" title="优化器改进"></a><strong>优化器改进</strong></h3><ul>
<li>ICP<br>可以在引擎层直接过滤数据，避免二次回表<br>节省BP空间，提高查询性能</li>
<li>BKA<br>全称Batch Key Access：<br>SQL通过辅助索引要访问表数据时候，将大量的随机访问放入缓存，交给MRR接口合并为顺序访问。</li>
<li>MRR<br>全称Multi Range Read：<br>在BKA算法应用之后，通过MRR接口合并随机访问为顺序访问，再去检索表数据。<br>变大量随机为顺序访问。在通过辅助索引检索大量数据时，性能提升明显<br>磁头无需来回寻道，page只需读取一次，且较好利用了innodb线性预读功能（每次预读64个连续page）。</li>
<li>统计信息持久化，mysqld重启后不丢失</li>
<li>explain语句支持insert，update，delete，replace语句，并且支持JSON格式</li>
<li>子查询优化提升。</li>
</ul>
<h2 id="版本5-7（2015年）"><a href="#版本5-7（2015年）" class="headerlink" title="版本5.7（2015年）"></a>版本5.7（2015年）</h2><h3 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a><strong>安全性</strong></h3><ul>
<li>用户表 mysql.user 的 plugin字段不允许为空， 默认值是 mysql_native_password，而不是 mysql_old_password，不再支持旧密码格式；</li>
<li>增加密码过期机制，过期后需要修改密码，否则可能会被禁用，或者进入沙箱模式；</li>
<li>提供了更为简单SSL安全访问配置，并且默认连接就采用SSL的加密方式。</li>
</ul>
<h3 id="灵活性"><a href="#灵活性" class="headerlink" title="灵活性"></a><strong>灵活性</strong></h3><ul>
<li>MySQL数据库从5.7.8版本开始，也提供了对JSON的支持。</li>
<li>可以混合存储结构化数据和非结构化数据，同时拥有关系型数据库和非关系型数据库的优点</li>
<li>能够提供完整的事务支持</li>
<li>generated column是MySQL 5.7引入的新特性，所谓generated column，就是数据库中这一列由其他列计算而得</li>
</ul>
<h3 id="易用性"><a href="#易用性" class="headerlink" title="易用性"></a><strong>易用性</strong></h3><ul>
<li>在MySQL 5.7 之前，如果用户输入了错误的SQL语句，按下 ctrl+c ，虽然能够”结束”SQL语句的运行，但是，也会退出当前会话，MySQL 5.7对这一违反直觉的地方进行了改进，不再退出会话。</li>
<li>MySQL 5.7可以explain一个正在运行的SQL，这对于DBA分析运行时间较长的语句将会非常有用。</li>
<li>sys schema是MySQL 5.7.7中引入的一个系统库，包含了一系列视图、函数和存储过程， 该项目专注于MySQL的易用性。<br>例如：如何查看数据库中的冗余索引；如何获取未使用的索引；如何查看使用全表扫描的SQL语句。</li>
</ul>
<h3 id="可用性"><a href="#可用性" class="headerlink" title="可用性"></a><strong>可用性</strong></h3><ul>
<li>在线设置 复制的过滤规则 不再需要重启MySQL，只需要停止SQLthread，修改完成以后，启动SQLthread。</li>
<li>在线修改buffer pool的大小。</li>
<li>Online DDL MySQL 5.7支持重命名索引和修改varchar的大小，这两项操作在之前的版本中，都需要重建索引或表。</li>
<li>在线开启GTID ，在之前的版本中，由于不支持在线开启GTID，用户如果希望将低版本的数据库升级到支持GTID的数据库版本，需要先关闭数据库，再以GTID模式启动，所以导致升级起来特别麻烦。</li>
</ul>
<h3 id="性能"><a href="#性能" class="headerlink" title="性能"></a><strong>性能</strong></h3><ul>
<li>临时表的性能改进。<br>临时表只在当前会话中可见<br>临时表的生命周期是当前连接（MySQL宕机或重启，则当前连接结束）</li>
<li>只读事务性能改进。<br>MySQL 5.7通过 避免为只读事务分配事务ID ，不为只读事务分配回滚段，减少锁竞争等多种方式，优化了只读事务的开销，提高了数据库的整体性能。</li>
<li>加速连接处理。<br>在MySQL 5.7之前，变量的初始化操作（THD、VIO）都是在连接接收线程里面完成的，现在将这些工作下发给工作线程，以减少连接接收线程的工作量，提高连接的处理速度。这个优化对那些频繁建立短连接的应用，将会非常有用。</li>
<li>复制性能的改进 （支持多线程复制（Multi-Threaded Slaves, 简称MTS）<br>MySQL的默认配置是库级别的并行复制，为了充分发挥MySQL 5.7的并行复制的功能，我们需要将slave-parallel-type配置成LOGICAL_CLOCK。</li>
<li>支持多源复制（Multi-source replication）<h3 id="严格性改变"><a href="#严格性改变" class="headerlink" title="严格性改变"></a><strong>严格性改变</strong></h3></li>
<li>默认启用 STRICT_TRANS_TABLES 模式。</li>
<li>对 ONLY_FULL_GROUP_BY 模式实现了更复杂的特性支持，并且也被默认启用。</li>
<li>其他被默认启用的sql mode还有 NO_ENGINE_SUBSTITUTION。</li>
</ul>
<h3 id="默认参数的改变"><a href="#默认参数的改变" class="headerlink" title="默认参数的改变"></a>默认参数的改变</h3><ul>
<li>默认binlog格式调整为ROW格式</li>
<li>默认binlog错误后的操作调整为ABORT_SERVER<br>在先前的选项下（binlog_error_action=IGNORE_ERROR），如果一个错误发生，导致无法写入binlog，mysql-server会在错误日志中记录错误并强制关闭binlog功能。这会使mysql-server在不记录binlog的模式下继续运行，导致从库无法继续获取到主库的binlog。</li>
<li>默认开启mysql崩溃时的binlog安全。</li>
<li>默认调低slave_net_timeout。</li>
</ul>
<h3 id="安装不同"><a href="#安装不同" class="headerlink" title="安装不同"></a><strong>安装不同</strong></h3><ul>
<li>mysql_install_db已经不再推荐使用了，建议改成mysqld –initialize 完成实例初始化。如果 datadir 指向的目标目录下已经有数据文件，则会有[ERROR] Aborting；</li>
<li>在初始化时如果加上 –initial-insecure，则会创建空密码的 root@localhost 账号，否则会创建带密码的 root@localhost 账号，密码直接写在 log-error 日志文件中；新用户登入后需要立刻修改密码，否则无法继续后续的工作。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/pm/Git%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/pm/Git%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/" class="post-title-link" itemprop="url">Git使用规范</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-09 22:18:08" itemprop="dateCreated datePublished" datetime="2017-11-09T22:18:08+08:00">2017-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pm/" itemprop="url" rel="index"><span itemprop="name">项目管理</span></a>
                </span>
            </span>

          
            <span id="/pm/Git%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/" class="post-meta-item leancloud_visitors" data-flag-title="Git使用规范" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pm/Git%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pm/Git%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本人在实际工作中总结出的Git使用规范，比较简单，容易落地。</p>
<h1 id="1-分支管理"><a href="#1-分支管理" class="headerlink" title="1. 分支管理"></a>1. 分支管理</h1><p>开发过程主要存在以下分支：</p>
<ul>
<li>master</li>
<li>develop</li>
<li>release</li>
<li>hotfix-[问题名称 | bug编号]</li>
<li>feature-[功能名称]</li>
<li>bugfix-[bug编号]</li>
<li>refactor-[重构名称]</li>
</ul>
<h2 id="1-1-master-主分支"><a href="#1-1-master-主分支" class="headerlink" title="1.1 master 主分支"></a>1.1 master 主分支</h2><ul>
<li>master主分支 用于部署生产环境的分支,确保master分支稳定性,始终保持稳定的可发布版本</li>
<li>master 分支一般由release以及hotfix分支合并，任何时间都不能直接修改代码</li>
<li>只有项目组主程才拥有master主分支的管理权限（例如其他分支合并到master必须由主程操作）</li>
</ul>
<h2 id="1-2-develop-开发分支"><a href="#1-2-develop-开发分支" class="headerlink" title="1.2 develop 开发分支"></a>1.2 develop 开发分支</h2><ul>
<li>develop开发分支为不稳定版本，但已有的功能必须是完整的</li>
<li>始终保持最新完成以及bug修复后的代码</li>
<li>原则上不允许直接在develop分支上进行功能开发，必须新建feature分支进行开发</li>
</ul>
<h2 id="1-3-release分支-预上线分支"><a href="#1-3-release分支-预上线分支" class="headerlink" title="1.3 release分支 预上线分支"></a>1.3 release分支 预上线分支</h2><ul>
<li>release 为预上线分支，发布提测阶段，会release分支代码为基准提测</li>
<li>当有一组feature开发完成，首先会合并到develop分支，进入提测时，会创建release分支。<br>如果测试过程中若存在bug需要修复，则直接由开发者在release分支修复并提交。<br>当测试完成之后，合并release分支到master和develop分支，此时master为最新代码，用作上线。</li>
</ul>
<h2 id="1-4-hotfix-问题名称-bug编号-紧急热修复分支"><a href="#1-4-hotfix-问题名称-bug编号-紧急热修复分支" class="headerlink" title="1.4 hotfix-[问题名称 | bug编号] 紧急热修复分支"></a>1.4 hotfix-[问题名称 | bug编号] 紧急热修复分支</h2><ul>
<li>线上出现紧急问题时，需要及时修复，以master分支为基线，创建hotfix分支，横线后面跟上问题名称或者对应的bug编号，仅仅适用于<strong>生产线问题紧急修复</strong>！！</li>
<li>修复完成，测试通过，合并到master和develop分支上，然后将此分支删除</li>
</ul>
<h2 id="1-5-feature-功能名称-功能开发分支"><a href="#1-5-feature-功能名称-功能开发分支" class="headerlink" title="1.5 feature-[功能名称] 功能开发分支"></a>1.5 feature-[功能名称] 功能开发分支</h2><ul>
<li>从develop分支创建，横线后跟功能名称，用于新功能开发，每天下班前push提交到远程</li>
<li>开发完成以后，在远程发起向develop分支的合并请求，由指定的CodeReview人员审查通过以后进行合并，并删除该分支</li>
<li>命名规则: feature-user_module、 feature-cart_module</li>
</ul>
<h2 id="1-6-bugfix-bug编号-问题修复分支"><a href="#1-6-bugfix-bug编号-问题修复分支" class="headerlink" title="1.6 bugfix-[bug编号] 问题修复分支"></a>1.6 bugfix-[bug编号] 问题修复分支</h2><ul>
<li>从develop分支创建，用于修改测试提出的bug，横线后跟bug编号</li>
<li>修复以后，在远程发起向develop分支的合并请求，并指定提交者自身（或其他人）作为CodeReview，合并以后删除该分支</li>
</ul>
<h2 id="1-7-refactor-重构名称-重构分支"><a href="#1-7-refactor-重构名称-重构分支" class="headerlink" title="1.7 refactor-[重构名称] 重构分支"></a>1.7 refactor-[重构名称] 重构分支</h2><ul>
<li>从develop分支创建，用于代码的<strong>重大规模重构</strong>（小规模重构创建feature分支即可）</li>
<li>重构以后，必须经过严格测试通过，才能向develop分支合并。</li>
</ul>
<h2 id="常见任务"><a href="#常见任务" class="headerlink" title="常见任务"></a>常见任务</h2><h3 id="增加新功能"><a href="#增加新功能" class="headerlink" title="增加新功能"></a>增加新功能</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(develop)$: git checkout -b feature/xxx            <span class="comment"># 从develop建立特性分支</span></span><br><span class="line">(feature/xxx)$: blabla                         <span class="comment"># 开发</span></span><br><span class="line">(feature/xxx)$: git add xxx</span><br><span class="line">(feature/xxx)$: git commit -m <span class="string">'commit comment'</span></span><br><span class="line">(develop)$: git merge feature/xxx --no-ff          <span class="comment"># 把特性分支合并到develop</span></span><br></pre></td></tr></table></figure>
<h3 id="修复紧急bug"><a href="#修复紧急bug" class="headerlink" title="修复紧急bug"></a>修复紧急bug</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(master)$: git checkout -b hotfix/xxx         <span class="comment"># 从master建立hotfix分支</span></span><br><span class="line">(hotfix/xxx)$: blabla                         <span class="comment"># 开发</span></span><br><span class="line">(hotfix/xxx)$: git add xxx</span><br><span class="line">(hotfix/xxx)$: git commit -m <span class="string">'commit comment'</span></span><br><span class="line">(master)$: git merge hotfix/xxx --no-ff       <span class="comment"># 把hotfix分支合并到master，并上线到生产环境</span></span><br><span class="line">(develop)$: git merge hotfix/xxx --no-ff          <span class="comment"># 把hotfix分支合并到develop，同步代码</span></span><br></pre></td></tr></table></figure>

<h3 id="预发布环境代码"><a href="#预发布环境代码" class="headerlink" title="预发布环境代码"></a>预发布环境代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(release)$: git merge develop --no-ff     <span class="comment"># 把develop分支合并到release，然后在测试环境拉取并测试</span></span><br></pre></td></tr></table></figure>

<h3 id="生产环境上线"><a href="#生产环境上线" class="headerlink" title="生产环境上线"></a>生产环境上线</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(master)$: git merge release --no-ff      <span class="comment"># 把testing测试好的代码合并到master</span></span><br><span class="line">(master)$: git tag -a v0.1 -m <span class="string">'部署包版本名'</span>  <span class="comment">#给版本命名，打Tag</span></span><br></pre></td></tr></table></figure>

<h1 id="2-Commit-提交规范"><a href="#2-Commit-提交规范" class="headerlink" title="2. Commit 提交规范"></a>2. Commit 提交规范</h1><h2 id="2-1-commit提交的日志格式"><a href="#2-1-commit提交的日志格式" class="headerlink" title="2.1 commit提交的日志格式"></a>2.1 commit提交的日志格式</h2><p><type>: <subject><br><BLANK LINE></p>
<body>
<BLANK LINE>
<footer>

<ul>
<li>type: 本次 commit 的类型，如feat fix doc refactor 等</li>
<li>subject: 简明扼要的阐述下本次 commit 的主旨，在原文中特意强调了几点 1. 使用祈使句，是不是很熟悉又陌生的一个词，来传送门在此 祈使句 2. 首字母不要大写 3. 结尾无需添加标点</li>
<li>body: 同样使用祈使句，在主体内容中我们需要把本次 commit 详细的描述一下，比如此次变更的动机，如需换行，则使用 |</li>
<li>footer: 描述下与之关联的 issue 或 break change，详见案例</li>
</ul>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">feat</td>
<td align="left">feature，即新开发的功能</td>
</tr>
<tr>
<td align="left">fix</td>
<td align="left">问题修复</td>
</tr>
<tr>
<td align="left">refactor</td>
<td align="left">重构代码</td>
</tr>
<tr>
<td align="left">doc</td>
<td align="left">增加文档（如readme），注释等</td>
</tr>
</tbody></table>
<p>例如：</p>
<p>fix:修复身份证含字母X的用户无法注册问题<br>fix: 紧急修复生产线用户积分不显示的问题<br>feat:商品详情页功能<br>doc:增加项目readme文档，修改结算条款结算逻辑的注释</p>
<h2 id="2-2-Commit提交频率"><a href="#2-2-Commit提交频率" class="headerlink" title="2.2 Commit提交频率"></a>2.2 Commit提交频率</h2><p>每天下班前必须提交feature分支，并push到远程<br>hotfix、feature、bugfix、refactor分支尽量按照功能点或修复重构的问题及时commit（不要求push）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/pm/ab%E6%B5%8B%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/pm/ab%E6%B5%8B%E8%AF%95/" class="post-title-link" itemprop="url">ab性能压测</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-09 22:18:08" itemprop="dateCreated datePublished" datetime="2017-11-09T22:18:08+08:00">2017-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pm/" itemprop="url" rel="index"><span itemprop="name">项目管理</span></a>
                </span>
            </span>

          
            <span id="/pm/ab%E6%B5%8B%E8%AF%95/" class="post-meta-item leancloud_visitors" data-flag-title="ab性能压测" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pm/ab%E6%B5%8B%E8%AF%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pm/ab%E6%B5%8B%E8%AF%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ab命令原理"><a href="#ab命令原理" class="headerlink" title="ab命令原理"></a>ab命令原理</h2><p>Apache的ab命令模拟多线程并发请求，测试服务器负载压力，也可以测试nginx、lighthttp、IIS等其它Web服务器的压力。 </p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/pm/ab%E6%B5%8B%E8%AF%95/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/pm/product-lifecycle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/pm/product-lifecycle/" class="post-title-link" itemprop="url">互联网产品生命周期</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-09 22:18:08" itemprop="dateCreated datePublished" datetime="2017-11-09T22:18:08+08:00">2017-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pm/" itemprop="url" rel="index"><span itemprop="name">项目管理</span></a>
                </span>
            </span>

          
            <span id="/pm/product-lifecycle/" class="post-meta-item leancloud_visitors" data-flag-title="互联网产品生命周期" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pm/product-lifecycle/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pm/product-lifecycle/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img data-src="http://f.ngall-in.com/alan87/static/images/pm/7.png/w600">
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/pm/product-lifecycle/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/pm/project-management/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/pm/project-management/" class="post-title-link" itemprop="url">项目管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-09 22:18:08" itemprop="dateCreated datePublished" datetime="2017-11-09T22:18:08+08:00">2017-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pm/" itemprop="url" rel="index"><span itemprop="name">项目管理</span></a>
                </span>
            </span>

          
            <span id="/pm/project-management/" class="post-meta-item leancloud_visitors" data-flag-title="项目管理" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pm/project-management/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pm/project-management/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="项目管理"><a href="#项目管理" class="headerlink" title="项目管理"></a>项目管理</h2><ul>
<li><a href="项目生命周期.md">项目生命周期</a></li>
<li><a href="product-lifecycle.md">互联网产品生命周期</a></li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/pm/project-management/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/pm/test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/pm/test/" class="post-title-link" itemprop="url">测试相关</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-09 22:18:08" itemprop="dateCreated datePublished" datetime="2017-11-09T22:18:08+08:00">2017-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pm/" itemprop="url" rel="index"><span itemprop="name">项目管理</span></a>
                </span>
            </span>

          
            <span id="/pm/test/" class="post-meta-item leancloud_visitors" data-flag-title="测试相关" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pm/test/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pm/test/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h2><ul>
<li><a href="/ab测试">ab性能压测</a></li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/pm/test/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/pm/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/pm/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" class="post-title-link" itemprop="url">代码规范</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-09 22:18:08" itemprop="dateCreated datePublished" datetime="2017-11-09T22:18:08+08:00">2017-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pm/" itemprop="url" rel="index"><span itemprop="name">项目管理</span></a>
                </span>
            </span>

          
            <span id="/pm/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" class="post-meta-item leancloud_visitors" data-flag-title="代码规范" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pm/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pm/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><a href="https://m.aliyun.com/yunqi//articles/215726?from=groupmessage&isappinstalled=0&utm_content=m_23665" target="_blank" rel="noopener">阿里巴巴java开发手册终极版</a></p>
<p>下文是对里面常用的一些案例及规范的抽取。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/pm/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.alan87.top/pm/code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
      <meta itemprop="name" content="千寻">
      <meta itemprop="description" content="道路很长, 开始了就别停下!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千寻">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/pm/code/" class="post-title-link" itemprop="url">代码管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-09 22:18:08" itemprop="dateCreated datePublished" datetime="2017-11-09T22:18:08+08:00">2017-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pm/" itemprop="url" rel="index"><span itemprop="name">项目管理</span></a>
                </span>
            </span>

          
            <span id="/pm/code/" class="post-meta-item leancloud_visitors" data-flag-title="代码管理" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pm/code/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pm/code/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><a href="代码规范.md">代码规范</a></li>
<li><a href="git-commands.md">Git常用命令</a></li>
<li><a href="http://www.mvnrepository.com/open-source/http-clients" target="_blank" rel="noopener">maven仓库</a></li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/pm/code/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="千寻"
      src="http://f.ngall-in.com/alan87/static/images/avata.jpg/120">
  <p class="site-author-name" itemprop="name">千寻</p>
  <div class="site-description" itemprop="description">道路很长, 开始了就别停下!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">276</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="http://www.alan87.top/" title="主页 → http:&#x2F;&#x2F;www.alan87.top"><i class="fa fa-fw fa-home"></i>主页</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/chjm872" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chjm872" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianshu.com/u/61d965d5f9f5" title="简书 → https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;61d965d5f9f5" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i>简书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.toutiao.com/c/user/58262961725/" title="头条 → https:&#x2F;&#x2F;www.toutiao.com&#x2F;c&#x2F;user&#x2F;58262961725&#x2F;" rel="noopener" target="_blank"><i class="fa fa-fw fa-rotate-right"></i>头条</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2013 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">千寻</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script size="390" alpha="0.52" zIndex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script>
  <script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/lozad.js/1.14.0/lozad.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  <script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script>


  
  <script data-pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>









<script data-pjax>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script data-pjax>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'dark',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


    <div id="pjax">
  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://www.alan87.top/page/6/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdnjs.cloudflare.com/ajax/libs/valine/1.3.10/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'KgsjYBdUonVSMVMkBDDyr0xM-gzGzoHsz',
      appKey     : '0hgJ6arwe0A4N0IoGm38AiuP',
      placeholder: "写评论...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>
</body>
</html>
